<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
<meta http-equiv="Cache-Control" content="max-age=3600"/>
<meta name="description" content="description"/>
<meta name="keywords" content="keywords"/> 
<meta name="author" content="author"/> 
<link rel="stylesheet" type="text/css" href="../style/default.css" media="screen"/>
<title>QTLtools</title>
</head>

<body>
<div class="content">
	<div class="item"  id="item1">
	<div class="options">
		<h1>Download <b>QTLtools</b></h1>
		<p>
		Hereafter, the different versions of QTLtools available for download:
		</p>
		
		<table width=100%>
			<tr>
				<th width=20%>Version</th>
				<th width=80%>Description</th>
			</tr>
			<tr>
				<td>
				<a href="https://qtltools.github.io/qtltools/binaries/QTLtools_1.0_source.tar.gz" download>v1.0 (Source code)</a>
				</td>
				<td>
				This is the first stable version of the code.
				</td>
			</tr>
			<tr>
				<td>
				v1.0 (Binary Ubuntu16.04)
				</td>
				<td>
				Compiled binary of the first stable version of the code on Ubuntu14.04/x86_64 using <i>g++ 5.4.0</i>
				</td>
			</tr>
			<tr>
				<td>
				<a href="https://qtltools.github.io/qtltools/binaries/QTLtools_1.0_Ubuntu14.04_x86_64.tar.gz" download>v1.0 (Binary Ubuntu14.04)</a>
				</td>
				<td>
				Compiled binary of the first stable version of the code on Ubuntu14.04/x86_64 using <i>g++ 4.8.4</i>
				</td>
			</tr>
			<tr>
				<td>
				<a href="https://qtltools.github.io/qtltools/binaries/QTLtools_1.0_Ubuntu12.04_x86_64.tar.gz" download>v1.0 (Binary Ubuntu12.04)</a>
				</td>
				<td>
				Compiled binary of the first stable version of the code on Ubuntu12.04/x86_64 using <i>g++ 4.6.3</i>
				</td>
			</tr>
			<tr>
				<td>
				v1.0 (Binary CentOS6.8)
				</td>
				<td>
				Compiled binary of the first stable version of the code on CentOS6.8/x86_64 using <i> g++ 4.7.2</i>
				</td>
			</tr>
			<tr>
				<td>
				v1.0 (Binary MacOSX)
				</td>
				<td>
				Should be uploaded very very soon!
				</td>
			</tr>
		</table>
	</div>
	</div>

	<div class="item"  id="item1">
		<h1>Compiling <b>QTLtools</b></h1>
		<p>
		If the provided binaries does not directly work, QTLtools needs to be re-compiled on your plateform. For this, you may need to install few standard libraries required by QTLtools if you do not have them already installed. To do so, you need to update the path of the required libraries in the <i>Makefile</i>. 
		</p>

		<br>
		<h3>0. C++ compilator</h3>
		<p>
		Please make sure that the version of your <i>g++</i> is above 4.4. To check this, use:
		</p>

		<code>
		g++ --version
		</code>

		<br>
		<h3>1. The GNU Scientific Library</h3>
		<p>
		This library is usually installed by default on most linux plateforms, otherwise instructions to install it can be found <a href="http://www.gnu.org/software/gsl/" target='_top'>here</a>. This librry does not need any modification of the <i>Makefile</i> since it is dynamically linked.
		</p>

		<br>
		<h3>2. The Boost C++ library</h3>
		<p>
		This collection of C++ libraries is also usually installed by default on most computers. Detailled instructions to install it can be found <a href="http://www.boost.org/" target='_top'>here</a>. Once installed, you need to edit the <i>Makefile</i> and set the two following variables <i>BOOST_INC</i> and <i>BOOST_LIB</i> correctly.
		</p>

		<p>
		First, find the file <i>program_options.hpp</i> where you installed the Boost libraries. For this, you can use the <i>find</i> command. Assuming that it is located here: <i>/usr/include/boost/program_options.hpp</i>, you can then set <i>BOOST_INC</i> in the <i>Makefile</i> as follows:
		</p>

		<code>
		BOOST_INC=/sur/include
		</code>
		
		<p>
		Here, do not forget to remove <i>boost/program_options.hpp</i> from the full path.

		<p>
		Then, look for the file <i>libboost_program_options.a</i>. If it is located here: <i>/usr/lib/x86_64-linux-gnu/</i>, set <i>BOOST_LIB</i> as follows:
		</p>

		<code> 
		BOOST_LIB=/usr/lib/x86_64-linux-gnu
		</code>

		<br>
		<h3>3. The standalone Rmath library</h3>
		<p>
		This library provided by R contains all basic functions to simulate from standard probability distributions (ex: qnorm, pnorm, rnorm, etc ...). Instructions to install it can be found <a href="http://cran.r-project.org/doc/manuals/r-release/R-admin.html#The-standalone-Rmath-library" target='_top'>here</a>. A pre-compiled version can be directly obtained by installing the package <i>r-mathlib</i> on Debian/Ubuntu or <i>libRmath-dev</i> on Fedora/RedHat. Otherwise, proceed as follows:</p>

		<p>
		First download the R source code from <a href="https://cran.r-project.org/src/base/R-3/R-3.2.2.tar.gz" download>here</a>.
		</p>

		<p>
		Then, move the tgz in the folder where you want to install the library (e.g. $(HOME)/Libraries), and run the following commands:
		</p>

		<code>
		tar xzvf R-3.2.2.tar.gz<br>
		cd R-3.2.2/<br>
		./configure<br>
		cd src/nmath/standalone/<br>
		make
		</code>
		
		<p>
		This generates a library file <b>libRmath.a</b>. If the file is located here: <i>/home/me/Libraries/R-3.2.2/src/nmath/standalone/</i>, then set up <i>RMATH_INC</i> and <i>RMATH_LIB</i> as follows:
		</p>

		<code>
		RMATH_INC=/home/me/Libraries/R-3.2.2/src/include<br>
		RMATH_LIB=/home/me/Libraries/R-3.2.2/src/nmath/standalone
		</code>

		<br>
		<h3>4. The HTSlib library</h3>
		<p> This library written in C allows reading and parsing efficiently VCF, BCF, BAM and BED file. This is used by widely used tools such as samtools or bcftools for example. Download the library from <a href="https://github.com/samtools/htslib/releases/download/1.3.1/htslib-1.3.1.tar.bz2" download>here</a>. Then, move the tgz in the folder you want to install the library and run the following commands:
		</p>
		
		<code>
		tar xjvf htslib-1.3.1.tar.bz2<br>
		cd htslib-1.3.1/<br>
		./configure<br>
		make
		</code>
		
		<p>
		This generates a library file <b>libhts.a</b>. If the file is located here: <i>/home/olivier/Libraries/htslib-1.2.1/</i>, then set up <i>HTSLD_INC</i> and <i>HTSLD_LIB</i> as follows:
		</p>
		
		<code>
		HTSLD_INC=/home/olivier/Libraries/htslib-1.2.1<br>
		HTSLD_LIB=/home/olivier/Libraries/htslib-1.2.1
		</code>

		<br>
		<h3>5. Compile QTLtools</h3>
		<p>
		Once the variables <i>BOOST_INC, BOOST_LIB, RMATH_INC, RMATH_LIB, HTSLD_INC, HTSLD_LIB</i> correctly set up, you should have something like this:
		</p>

		<code>
		########################################################<br>
		# YOU NEED TO UPDATE THESE 6 PATHS TO COMPILE QTLTOOLS #<br>
		########################################################<br>
		BOOST_INC=/usr/include<br>
		BOOST_LIB=/usr/lib/x86_64-linux-gnu<br>
		RMATH_INC=/home/me/Libraries/R-3.2.2/src/include<br>
		RMATH_LIB=/home/me/Libraries/R-3.2.2/src/nmath/standalone<br>
		HTSLD_INC=/home/olivier/Libraries/htslib-1.2.1<br>
		HTSLD_LIB=/home/olivier/Libraries/htslib-1.2.1<br>
		</code>

		<p>
		Then, you can proceed with the compilation using:
		</p>

		<code>
		make
		</code>
	
		<p>This will generate the binary <i>./bin/QTLtools</i>. And you're ready to go!</p>		
	</div>

	<div class="log">Monday 11th July 2016</div>
</div>
</body>
</html>
